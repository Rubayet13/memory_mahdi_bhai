###########################################################################
########################## Vivado Commands ################################
###########################################################################
###########################################################################

XVLOG				= /tools/Xilinx/Vivado/2023.1/bin/xvlog
XELAB				= /tools/Xilinx/Vivado/2023.1/bin/xelab
XSIM				= /tools/Xilinx/Vivado/2023.1/bin/xsim
HOME				= /home/husni/Tahoe_Example_Projects/mem_tb

###########################################################################
########################## File Compilation ###############################
###########################################################################
###########################################################################
	
COMPILE_ORDER		= \
						$(HOME)/tb/tb/params.sv \
						$(HOME)/rtl/mem.sv \
						$(HOME)/tb/tb/mem_interface.sv \
						$(HOME)/tb/agent/agent_pkg.sv \
						$(HOME)/tb/environment/env_pkg.sv \
						$(HOME)/tb/sequence/seq_pkg.sv \
						$(HOME)/tb/test/test.sv \
						$(HOME)/tb/tb/mem_tb_top.sv 



###########################################################################
########################## Simulation Vars ################################
###########################################################################
###########################################################################

TOP_MODULE								= tb_top	
COMP_OPT									= --incr --relax
SIM_LOG										= -log simulate.log
ELAB_LOG									= -log elaborate.log
XVLOG_LOG         				= -log xvlog.log
UVM 											= -L uvm		
UVM_VERBOSITY_CONTROL 		= UVM_MEDIUM
TEST_NAME									= apb_wr_rd_test 
TIMESCALE									= -timescale 1ns/1ps

###########################################################################
########################### Make Targets ##################################
###########################################################################
###########################################################################

compilation	:
			$(XVLOG) -sv $(COMPILE_ORDER) $(COMP_OPT)

elaboration	: compilation
			$(XELAB) $(TOP_MODULE) --relax -s top --debug typical 

simulate	: elaboration
			$(XSIM) top -runall
	
###########################################################################
######################### WAVES ARE CHECKED FROM GTKWAVE ##################
######################### USING TB_TOP GENERATED DUMPFILE #################
###########################################################################

clean: 
	@echo "---------------------------------Running Clean--------------------------------" 
	@rm -rf *.jou *.log *.pb *.wdb xsim.dir xsim.covdb xcrg_report *.vcd 				# This deletes all files generated by Vivado
	@rm -rf .*.timestamp  										# This deletes all our timestamps




# .PHONY		: clean
# .PHONY		: wave